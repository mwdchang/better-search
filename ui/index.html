<html lang="en">
<head>
<script src="./d3.v7.min.js"></script>
<script src="./arc.js"></script>
<style>
body {
  font-family: Tahoma;
}

main {
  display: flex;
  flex-direction: row;
}

.arc-diagram {
  width: 250px;
  height: 500px;
}

.content {
  width: 450px;
  height: 500px;
  font-size: 90%;
  font-family: Tahoma;
  color: #333;
  text-align: justify;
  overflow: scroll;
  border: 1px solid #D8D8D8;
  border-radius: 15px;
  padding: 10px;
  background-image: linear-gradient(#F8F8F8, #FFFFFF);
}

</style>

</head>
<body>
  <div>Search <input type="text"></div>
  <main>
    <div class="arc-diagram"></div>
    <div class="content"></div>
  </main>
</body>
<script type="module">
import { doSearch } from './search.js';

const response = await fetch('data.jsonl');
const rawData = await (response.json());
console.log(rawData);

const arcSVG = d3.select('.arc-diagram').append('svg');
arcSVG.style('width', '100%').style('height', '100%');

const data = [
  {
    source: { y: 100 },
    target: { y: 200 }
  },
  {
    source: { y: 100 },
    target: { y: 300 }
  }
];

renderArcDiagram(arcSVG, rawData);

doSearch('amazon', rawData, {
  sentenceNeighbourhood: 1
});

d3.select('.content')
  .text(rawData[0].sentences.map(d => d.text).join(' '));

</script>
</html>
